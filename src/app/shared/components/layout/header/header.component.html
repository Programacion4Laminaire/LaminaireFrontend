<div class="head" [ngClass]="getHeadClass()">
  <div class="head-content">
    <div class="head-content-left"></div>

    <div class="head-content-right">
      <div class="head-user-avatar-container flex items-center gap-3">

        <!-- Nombre + rol -->
        <div class="text-right text-sm leading-tight hidden md:block">
          <div class="font-semibold">
            {{ userName }}
          </div>
          <div class="text-gray-500 text-sm italic">
            {{ userRole }}
          </div>
        </div>

        <!-- Avatar -->
        <div class="head-user-avatar" [cdkMenuTriggerFor]="userOverlay">
          <img 
            [src]="userImage"
            alt="user"
            class="user-avatar"
            (error)="userImage = 'public/default-user.png'" />
          <div class="circle-indicator pulse"></div>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #userOverlay>
  <div class="overlay overlay-user overlay-fall" cdkMenu>
    <ul class="min-w-[200px] py-1">
      <li>
        <button class="flex w-full items-center gap-3 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 whitespace-nowrap">
          <mat-icon class="text-gray-600 icon-fix">person</mat-icon>
          <span>Perfil</span>
        </button>
      </li>
      <li>
        <button cdkMenuItem (click)="logout()" class="flex w-full items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-gray-100 whitespace-nowrap">
          <mat-icon class="text-red-600 icon-fix">logout</mat-icon>
          <span>Cerrar sesi√≥n</span>
        </button>
      </li>
    </ul>
  </div>
</ng-template>




